================================================================================
LitPath AI - RAG Evaluator Test (LangSmith-style)
Date: February 11, 2026 17:23:56
Test Cases: 10
================================================================================

[INIT] Initializing RAG Service...
[RAG] Initializing RAG system...
[RAG] Loaded embedding model: all-mpnet-base-v2
[RAG] Found 8903 existing chunks in database
[RAG] Skipping indexing - using existing 8903 chunks
[RAG] Ready! Total chunks: 8903
[INIT] Initializing RAG Evaluator (LLM-as-Judge)...

--------------------------------------------------------------------------------
Test Case 1: Ano-ano ang mga epekto ng mga plant growth regulator sa sili?
Category: Agriculture - Plant Science | Language: Filipino
--------------------------------------------------------------------------------
  [SEARCH] Running RAG search...
[RAG-DEBUG] RAGService.search called. Request ID: 7e88096f-af08-4d26-9b41-5eabf349e065
[RAG-DEBUG] Request ID 7e88096f-af08-4d26-9b41-5eabf349e065: Sending query rewrite prompt to LLM.
[RAG] LLM query rewrite: 'Ano-ano ang mga epekto ng mga plant growth regulator sa sili?' -> 'Effects of plant growth regulators on chili peppers' [Request ID: 7e88096f-af08-4d26-9b41-5eabf349e065]
[RAG-DEBUG] Request ID 7e88096f-af08-4d26-9b41-5eabf349e065: Embedding query.
[RAG-DEBUG] Request ID 7e88096f-af08-4d26-9b41-5eabf349e065: Querying ChromaDB.
[RAG-DEBUG] Request ID 7e88096f-af08-4d26-9b41-5eabf349e065: Filtering candidate chunks.
[RAG-DEBUG] Request ID 7e88096f-af08-4d26-9b41-5eabf349e065: Reranker prompt sent to LLM.
[RAG-DEBUG] Request ID 7e88096f-af08-4d26-9b41-5eabf349e065: Reranker user content preview: Query: Effects of plant growth regulators on chili peppers

Document Chunks:
[1] Use of Plant Growth Regulators to Induce Tolerance, Promote Growth, and Enhance Fruiting Quality of Chili Pepper (Capsi ...
[RAG-DEBUG] Request ID 7e88096f-af08-4d26-9b41-5eabf349e065: Reranker LLM raw response: [1, 4, 5, 6, 7, 8, 9, 12, 13, 16, 17, 19, 20, 24]
  [SEARCH] Found 1 documents, 1 chunks in 331.25s
  [GENERATE] Generating AI overview...
DEBUG: Generating with conversation context (0 previous turns)
DEBUG: Prompt length: 3486 characters
DEBUG: Finish reason: FinishReason.STOP
DEBUG: Response length: 1038 characters
  [GENERATE] Overview generated in 4.11s
  [EVALUATE] Running LLM-as-Judge evaluation...
  [EVALUATE] Evaluation completed in 5.57s

  Results:
    Relevance:           PASS
      ΓåÆ The student answer directly addresses the question by identifying specific plant growth regulators (brassinolide, etheph...
    Groundedness:        FAIL
      ΓåÆ The student answer accurately states that Benipayo (2022) studied the use of plant growth regulators (brassinolide, ethe...
    Retrieval Relevance: PASS
      ΓåÆ The question asks about the effects of plant growth regulators on chili peppers ('sili' in Filipino). The retrieved docu...
    Overall:             FAIL

--------------------------------------------------------------------------------
Test Case 2: Paano nakakaapekto ang salinity stress sa mga genotype ng palay?
Category: Agriculture - Crop Science | Language: Filipino
--------------------------------------------------------------------------------
  [SEARCH] Running RAG search...
[RAG-DEBUG] RAGService.search called. Request ID: ae68c76e-944e-4972-bf7e-331efcaceb9d
[RAG-DEBUG] Request ID ae68c76e-944e-4972-bf7e-331efcaceb9d: Sending query rewrite prompt to LLM.
[RAG] LLM query rewrite: 'Paano nakakaapekto ang salinity stress sa mga genotype ng palay?' -> 'Impact of salinity stress on rice genotypes' [Request ID: ae68c76e-944e-4972-bf7e-331efcaceb9d]
[RAG-DEBUG] Request ID ae68c76e-944e-4972-bf7e-331efcaceb9d: Embedding query.
[RAG-DEBUG] Request ID ae68c76e-944e-4972-bf7e-331efcaceb9d: Querying ChromaDB.
[RAG-DEBUG] Request ID ae68c76e-944e-4972-bf7e-331efcaceb9d: Filtering candidate chunks.
[RAG-DEBUG] Request ID ae68c76e-944e-4972-bf7e-331efcaceb9d: Reranker prompt sent to LLM.
[RAG-DEBUG] Request ID ae68c76e-944e-4972-bf7e-331efcaceb9d: Reranker user content preview: Query: Impact of salinity stress on rice genotypes

Document Chunks:
[1] Theoretical and Applied Genetics 121(8):1441-53. SINGH, R. K., AND T. J. FLOWERS, 2010: The physiology and molecular biology of ...
[RAG-DEBUG] Request ID ae68c76e-944e-4972-bf7e-331efcaceb9d: Reranker LLM raw response: [1, 2, 4, 5, 6, 7, 8, 9, 12, 13, 14, 15, 16, 17, 18, 20, 21, 22, 23, 24, 26, 27]
  [SEARCH] Found 2 documents, 2 chunks in 388.54s
  [GENERATE] Generating AI overview...
DEBUG: Generating with conversation context (0 previous turns)
DEBUG: Prompt length: 3966 characters
DEBUG: Finish reason: FinishReason.STOP
DEBUG: Response length: 1301 characters
  [GENERATE] Overview generated in 7.48s
  [EVALUATE] Running LLM-as-Judge evaluation...
  [EVALUATE] Evaluation completed in 5.70s

  Results:
    Relevance:           PASS
      ΓåÆ The student's answer directly addresses how salinity stress affects rice genotypes by detailing its impact on physiology...
    Groundedness:        FAIL
      ΓåÆ The student answer accurately states that salinity stress significantly affects the physiology and growth of rice genoty...
    Retrieval Relevance: PASS
      ΓåÆ The question asks about the effects of salinity stress on rice genotypes. Several facts directly mention 'salinity', 'ri...
    Overall:             FAIL

--------------------------------------------------------------------------------
Test Case 3: Ano ang sustansyang taglay ng mga butil na tila-kanin na gawa mula sa mais?
Category: Food Science - Nutrition | Language: Filipino
--------------------------------------------------------------------------------
  [SEARCH] Running RAG search...
[RAG-DEBUG] RAGService.search called. Request ID: a1faf4bc-8a64-4a4c-843a-dca9e8396ec3
[RAG-DEBUG] Request ID a1faf4bc-8a64-4a4c-843a-dca9e8396ec3: Sending query rewrite prompt to LLM.
[RAG] LLM query rewrite: 'Ano ang sustansyang taglay ng mga butil na tila-kanin na gawa mula sa mais?' -> 'Nutritional content of corn-based rice-like grains' [Request ID: a1faf4bc-8a64-4a4c-843a-dca9e8396ec3]
[RAG-DEBUG] Request ID a1faf4bc-8a64-4a4c-843a-dca9e8396ec3: Embedding query.
[RAG-DEBUG] Request ID a1faf4bc-8a64-4a4c-843a-dca9e8396ec3: Querying ChromaDB.
[RAG-DEBUG] Request ID a1faf4bc-8a64-4a4c-843a-dca9e8396ec3: Filtering candidate chunks.
[RAG-DEBUG] Request ID a1faf4bc-8a64-4a4c-843a-dca9e8396ec3: Reranker prompt sent to LLM.
[RAG-DEBUG] Request ID a1faf4bc-8a64-4a4c-843a-dca9e8396ec3: Reranker user content preview: Query: Nutritional content of corn-based rice-like grains

Document Chunks:
[1] Nutrient and Phytochemical Contents, Carbohydrate Profile and Acceptability of Rice-Like Grains from Corn [Zea mays L.]  ...
[RAG-DEBUG] Request ID a1faf4bc-8a64-4a4c-843a-dca9e8396ec3: Reranker LLM raw response: [1, 5, 6, 13, 15, 22, 24, 27, 28, 29]
  [SEARCH] Found 4 documents, 4 chunks in 316.31s
  [GENERATE] Generating AI overview...
DEBUG: Generating with conversation context (0 previous turns)
DEBUG: Prompt length: 8369 characters
DEBUG: Finish reason: FinishReason.STOP
DEBUG: Response length: 1657 characters
  [GENERATE] Overview generated in 18.84s
  [EVALUATE] Running LLM-as-Judge evaluation...
  [EVALUATE] Evaluation completed in 5.04s

  Results:
    Relevance:           PASS
      ΓåÆ The student answer directly addresses the question by listing the nutrients present in corn-based rice-like grains. It p...
    Groundedness:        FAIL
      ΓåÆ The student answer states that 'ang mga butil na tila-kanin mula sa mais ay mayroong intermediate glycemic index (GI) na...
    Retrieval Relevance: PASS
      ΓåÆ The question asks about the nutrients present in rice-like grains made from corn. The retrieved documents contain severa...
    Overall:             FAIL

--------------------------------------------------------------------------------
Test Case 4: Ano ang mga benefits ng agroforestry systems sa Pilipinas?
Category: Agriculture - Forestry | Language: Filipino
--------------------------------------------------------------------------------
  [SEARCH] Running RAG search...
[RAG-DEBUG] RAGService.search called. Request ID: 508178ae-fdb8-44c5-8220-9ba13cdfba68
[RAG-DEBUG] Request ID 508178ae-fdb8-44c5-8220-9ba13cdfba68: Sending query rewrite prompt to LLM.
[RAG] LLM query rewrite: 'Ano ang mga benefits ng agroforestry systems sa Pilipinas?' -> 'Benefits of agroforestry systems in the Philippines' [Request ID: 508178ae-fdb8-44c5-8220-9ba13cdfba68]
[RAG-DEBUG] Request ID 508178ae-fdb8-44c5-8220-9ba13cdfba68: Embedding query.
[RAG-DEBUG] Request ID 508178ae-fdb8-44c5-8220-9ba13cdfba68: Querying ChromaDB.
[RAG-DEBUG] Request ID 508178ae-fdb8-44c5-8220-9ba13cdfba68: Filtering candidate chunks.
[RAG-DEBUG] Request ID 508178ae-fdb8-44c5-8220-9ba13cdfba68: Reranker prompt sent to LLM.
[RAG-DEBUG] Request ID 508178ae-fdb8-44c5-8220-9ba13cdfba68: Reranker user content preview: Query: Benefits of agroforestry systems in the Philippines

Document Chunks:
[1] AND CASSINGHAM, K. 2003. ΓÇÿTaking stock of agroforestry adoption studiesΓÇÖ, Agroforestry Systems, 57(3): 173-186. PINKY,  ...
[RAG-DEBUG] Request ID 508178ae-fdb8-44c5-8220-9ba13cdfba68: Reranker LLM raw response: [5, 9, 15, 24, 26, 30]
  [SEARCH] Found 2 documents, 2 chunks in 274.72s
  [GENERATE] Generating AI overview...
DEBUG: Generating with conversation context (0 previous turns)
DEBUG: Prompt length: 5066 characters
DEBUG: Finish reason: FinishReason.STOP
DEBUG: Response length: 1659 characters
  [GENERATE] Overview generated in 17.65s
  [EVALUATE] Running LLM-as-Judge evaluation...
  [EVALUATE] Evaluation completed in 5.22s

  Results:
    Relevance:           PASS
      ΓåÆ The student answer directly addresses the question by enumerating the benefits of agroforestry systems in the Philippine...
    Groundedness:        PASS
      ΓåÆ The student answer accurately reflects the information provided in the source documents. It correctly identifies agrofor...
    Retrieval Relevance: PASS
      ΓåÆ The question asks about the benefits of agroforestry systems in the Philippines. The retrieved documents directly addres...
    Overall:             PASS

--------------------------------------------------------------------------------
Test Case 5: Paano nakaka-apekto ang nano zinc oxide sa yield at quality ng kamatis?
Category: Agriculture - Nanotechnology | Language: Filipino
--------------------------------------------------------------------------------
  [SEARCH] Running RAG search...
[RAG-DEBUG] RAGService.search called. Request ID: 42a58e73-6375-4c36-964c-222bfc47d2ba
[RAG-DEBUG] Request ID 42a58e73-6375-4c36-964c-222bfc47d2ba: Sending query rewrite prompt to LLM.
[RAG] LLM query rewrite: 'Paano nakaka-apekto ang nano zinc oxide sa yield at quality ng kamatis?' -> 'How does nano zinc oxide affect tomato yield and quality?' [Request ID: 42a58e73-6375-4c36-964c-222bfc47d2ba]
[RAG-DEBUG] Request ID 42a58e73-6375-4c36-964c-222bfc47d2ba: Embedding query.
[RAG-DEBUG] Request ID 42a58e73-6375-4c36-964c-222bfc47d2ba: Querying ChromaDB.
[RAG-DEBUG] Request ID 42a58e73-6375-4c36-964c-222bfc47d2ba: Filtering candidate chunks.
[RAG-DEBUG] Request ID 42a58e73-6375-4c36-964c-222bfc47d2ba: Reranker prompt sent to LLM.
[RAG-DEBUG] Request ID 42a58e73-6375-4c36-964c-222bfc47d2ba: Reranker user content preview: Query: How does nano zinc oxide affect tomato yield and quality?

Document Chunks:
[1] The postharvest parameters i.e. juice pH, Total Soluble Solids (TSS), titratable acidity (ΓÇ£TA), firmness and Vita ...
[RAG-DEBUG] Request ID 42a58e73-6375-4c36-964c-222bfc47d2ba: Reranker LLM raw response: [5, 8, 9, 14, 20]
  [SEARCH] Found 1 documents, 1 chunks in 344.22s
  [GENERATE] Generating AI overview...
DEBUG: Generating with conversation context (0 previous turns)
DEBUG: Prompt length: 3450 characters
DEBUG: Finish reason: FinishReason.STOP
DEBUG: Response length: 1161 characters
  [GENERATE] Overview generated in 14.59s
  [EVALUATE] Running LLM-as-Judge evaluation...
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 50.278078061s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'model': 'gemini-2.5-flash', 'location': 'global'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '50s'}]}}
  [EVALUATE] Evaluation completed in 4.21s

  Results:
    Relevance:           PASS
      ΓåÆ The student answer directly addresses how nano zinc oxide affects the yield and quality of tomatoes. It provides specifi...
    Groundedness:        FAIL
      ΓåÆ The student answer contains information that is not present in the provided FACTS. Specifically, the details about 'posi...
    Retrieval Relevance: FAIL
      ΓåÆ Unable to evaluate...
    Overall:             FAIL

--------------------------------------------------------------------------------
Test Case 6: Ano ang mga ecosystem services ng mga rubber plantation?
Category: Environmental Science | Language: Filipino
--------------------------------------------------------------------------------
  [SEARCH] Running RAG search...
[RAG-DEBUG] RAGService.search called. Request ID: 69903640-aeb0-41d2-80f6-a92a8819a15a
[RAG-DEBUG] Request ID 69903640-aeb0-41d2-80f6-a92a8819a15a: Sending query rewrite prompt to LLM.
[RAG] LLM query rewrite: 'Ano ang mga ecosystem services ng mga rubber plantation?' -> 'Ecosystem services of rubber plantations' [Request ID: 69903640-aeb0-41d2-80f6-a92a8819a15a]
[RAG-DEBUG] Request ID 69903640-aeb0-41d2-80f6-a92a8819a15a: Embedding query.
[RAG-DEBUG] Request ID 69903640-aeb0-41d2-80f6-a92a8819a15a: Querying ChromaDB.
[RAG-DEBUG] Request ID 69903640-aeb0-41d2-80f6-a92a8819a15a: Filtering candidate chunks.
[RAG-DEBUG] Request ID 69903640-aeb0-41d2-80f6-a92a8819a15a: Reranker prompt sent to LLM.
[RAG-DEBUG] Request ID 69903640-aeb0-41d2-80f6-a92a8819a15a: Reranker user content preview: Query: Ecosystem services of rubber plantations

Document Chunks:
[1] So, the presence of old and young stand of rubber plantation in the forest reserve could demonstrate possible ecosystems services  ...
[RAG-DEBUG] Request ID 69903640-aeb0-41d2-80f6-a92a8819a15a: Reranker LLM raw response: [1], [3], [4], [6], [7], [8], [14], [15], [16], [21]
  [SEARCH] Found 1 documents, 1 chunks in 276.67s
  [GENERATE] Generating AI overview...
DEBUG: Generating with conversation context (0 previous turns)
DEBUG: Prompt length: 3404 characters
DEBUG: Finish reason: FinishReason.STOP
DEBUG: Response length: 1345 characters
  [GENERATE] Overview generated in 4.63s
  [EVALUATE] Running LLM-as-Judge evaluation...
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 8.078724777s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'model': 'gemini-2.5-flash', 'location': 'global'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '8s'}]}}
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 7.752121703s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '7s'}]}}
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 7.395636004s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '7s'}]}}
  [EVALUATE] Evaluation completed in 1.62s

  Results:
    Relevance:           FAIL
      ΓåÆ Unable to evaluate...
    Groundedness:        FAIL
      ΓåÆ Unable to evaluate...
    Retrieval Relevance: FAIL
      ΓåÆ Unable to evaluate...
    Overall:             FAIL

--------------------------------------------------------------------------------
Test Case 7: What factors affect consumer acceptability of brown rice?
Category: Food Science - Consumer Studies | Language: English
--------------------------------------------------------------------------------
  [SEARCH] Running RAG search...
[RAG-DEBUG] RAGService.search called. Request ID: 64ee36bb-4b73-4b95-8b58-509d8b2f8e01
[RAG-DEBUG] Request ID 64ee36bb-4b73-4b95-8b58-509d8b2f8e01: Sending query rewrite prompt to LLM.
[RAG] LLM query rewrite: 'What factors affect consumer acceptability of brown rice?' -> 'Factors influencing consumer acceptance of brown rice' [Request ID: 64ee36bb-4b73-4b95-8b58-509d8b2f8e01]
[RAG-DEBUG] Request ID 64ee36bb-4b73-4b95-8b58-509d8b2f8e01: Embedding query.
[RAG-DEBUG] Request ID 64ee36bb-4b73-4b95-8b58-509d8b2f8e01: Querying ChromaDB.
[RAG-DEBUG] Request ID 64ee36bb-4b73-4b95-8b58-509d8b2f8e01: Filtering candidate chunks.
[RAG-DEBUG] Request ID 64ee36bb-4b73-4b95-8b58-509d8b2f8e01: Reranker prompt sent to LLM.
[RAG-DEBUG] Request ID 64ee36bb-4b73-4b95-8b58-509d8b2f8e01: Reranker user content preview: Query: Factors influencing consumer acceptance of brown rice

Document Chunks:
[1] Specifically, the odds of acceptability of brown rice was 11 times higher if the consumer likes the color and appeara ...
[RAG-DEBUG] Request ID 64ee36bb-4b73-4b95-8b58-509d8b2f8e01: Reranker LLM raw response: [1, 4, 5, 7, 9, 10, 13, 16, 19, 26]
  [SEARCH] Found 1 documents, 1 chunks in 272.17s
  [GENERATE] Generating AI overview...
DEBUG: Generating with conversation context (0 previous turns)
DEBUG: Prompt length: 3430 characters
DEBUG: Finish reason: FinishReason.STOP
DEBUG: Response length: 1370 characters
  [GENERATE] Overview generated in 5.12s
  [EVALUATE] Running LLM-as-Judge evaluation...
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 29.23797806s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '29s'}]}}
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 28.941869286s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '28s'}]}}
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 28.56031904s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '28s'}]}}
  [EVALUATE] Evaluation completed in 1.53s

  Results:
    Relevance:           FAIL
      ΓåÆ Unable to evaluate...
    Groundedness:        FAIL
      ΓåÆ Unable to evaluate...
    Retrieval Relevance: FAIL
      ΓåÆ Unable to evaluate...
    Overall:             FAIL

--------------------------------------------------------------------------------
Test Case 8: What is the impact of deforestation on Philippine forests?
Category: Environmental Science - Forestry | Language: English
--------------------------------------------------------------------------------
  [SEARCH] Running RAG search...
[RAG-DEBUG] RAGService.search called. Request ID: 7d3d2e42-9685-4dec-92d1-637170e14d74
[RAG-DEBUG] Request ID 7d3d2e42-9685-4dec-92d1-637170e14d74: Sending query rewrite prompt to LLM.
[RAG] LLM query rewrite: 'What is the impact of deforestation on Philippine forests?' -> 'Impact of deforestation on Philippine forests' [Request ID: 7d3d2e42-9685-4dec-92d1-637170e14d74]
[RAG-DEBUG] Request ID 7d3d2e42-9685-4dec-92d1-637170e14d74: Embedding query.
[RAG-DEBUG] Request ID 7d3d2e42-9685-4dec-92d1-637170e14d74: Querying ChromaDB.
[RAG-DEBUG] Request ID 7d3d2e42-9685-4dec-92d1-637170e14d74: Filtering candidate chunks.
[RAG-DEBUG] Request ID 7d3d2e42-9685-4dec-92d1-637170e14d74: Reranker prompt sent to LLM.
[RAG-DEBUG] Request ID 7d3d2e42-9685-4dec-92d1-637170e14d74: Reranker user content preview: Query: Impact of deforestation on Philippine forests

Document Chunks:
[1] PREPF (Vol. 2, Project Reports and Technical Papers). Manila: Development Academy of the Philippines. Bruce, R. C. (1977). Sa ...
[RAG-DEBUG] Request ID 7d3d2e42-9685-4dec-92d1-637170e14d74: Reranker LLM raw response: [2, 5, 7, 13, 21, 22, 26]
  [SEARCH] Found 1 documents, 1 chunks in 308.72s
  [GENERATE] Generating AI overview...
DEBUG: Generating with conversation context (0 previous turns)
DEBUG: Prompt length: 3498 characters
DEBUG: Finish reason: FinishReason.STOP
DEBUG: Response length: 1396 characters
  [GENERATE] Overview generated in 20.03s
  [EVALUATE] Running LLM-as-Judge evaluation...
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 56.899760192s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '56s'}]}}
  [EVALUATE] Evaluation completed in 2.93s

  Results:
    Relevance:           FAIL
      ΓåÆ The student answer explicitly states that the provided sources do not directly address the specific question about the *...
    Groundedness:        PASS
      ΓåÆ The student correctly identifies that the provided facts do not directly address the environmental or socio-economic imp...
    Retrieval Relevance: FAIL
      ΓåÆ Unable to evaluate...
    Overall:             FAIL

--------------------------------------------------------------------------------
Test Case 9: How does phytoremediation help with soil contamination?
Category: Environmental Science - Soil | Language: English
--------------------------------------------------------------------------------
  [SEARCH] Running RAG search...
[RAG-DEBUG] RAGService.search called. Request ID: 3dcbedc4-858c-474b-9f2d-9522f0409df3
[RAG-DEBUG] Request ID 3dcbedc4-858c-474b-9f2d-9522f0409df3: Sending query rewrite prompt to LLM.
[RAG] LLM query rewrite: 'How does phytoremediation help with soil contamination?' -> 'The role of phytoremediation in mitigating soil contamination' [Request ID: 3dcbedc4-858c-474b-9f2d-9522f0409df3]
[RAG-DEBUG] Request ID 3dcbedc4-858c-474b-9f2d-9522f0409df3: Embedding query.
[RAG-DEBUG] Request ID 3dcbedc4-858c-474b-9f2d-9522f0409df3: Querying ChromaDB.
[RAG-DEBUG] Request ID 3dcbedc4-858c-474b-9f2d-9522f0409df3: Filtering candidate chunks.
[RAG-DEBUG] Request ID 3dcbedc4-858c-474b-9f2d-9522f0409df3: Reranker prompt sent to LLM.
[RAG-DEBUG] Request ID 3dcbedc4-858c-474b-9f2d-9522f0409df3: Reranker user content preview: Query: The role of phytoremediation in mitigating soil contamination

Document Chunks:
[1] In 2016, DA-RFU III reported that the soil in Barangay Lomboy, Santa Cruz, Zambales was already contaminated  ...
[RAG-DEBUG] Request ID 3dcbedc4-858c-474b-9f2d-9522f0409df3: Reranker LLM raw response: [3, 4, 5, 12, 14, 15, 18, 19]
  [SEARCH] Found 1 documents, 1 chunks in 330.35s
  [GENERATE] Generating AI overview...
DEBUG: Generating with conversation context (0 previous turns)
DEBUG: Prompt length: 3432 characters
DEBUG: Finish reason: FinishReason.STOP
DEBUG: Response length: 1596 characters
  [GENERATE] Overview generated in 4.10s
  [EVALUATE] Running LLM-as-Judge evaluation...
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 21.922063531s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '21s'}]}}
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 21.621779592s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '21s'}]}}
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 21.322985206s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '21s'}]}}
  [EVALUATE] Evaluation completed in 1.13s

  Results:
    Relevance:           FAIL
      ΓåÆ Unable to evaluate...
    Groundedness:        FAIL
      ΓåÆ Unable to evaluate...
    Retrieval Relevance: FAIL
      ΓåÆ Unable to evaluate...
    Overall:             FAIL

--------------------------------------------------------------------------------
Test Case 10: What are the genetic diversity methods used for Philippine rice breeding?
Category: Agriculture - Genetics | Language: English
--------------------------------------------------------------------------------
  [SEARCH] Running RAG search...
[RAG-DEBUG] RAGService.search called. Request ID: a12640b0-10aa-47ea-b47e-a0b26979b785
[RAG-DEBUG] Request ID a12640b0-10aa-47ea-b47e-a0b26979b785: Sending query rewrite prompt to LLM.
[RAG] LLM query rewrite: 'What are the genetic diversity methods used for Philippine rice breeding?' -> 'Genetic diversity assessment methods in Philippine rice breeding' [Request ID: a12640b0-10aa-47ea-b47e-a0b26979b785]
[RAG-DEBUG] Request ID a12640b0-10aa-47ea-b47e-a0b26979b785: Embedding query.
[RAG-DEBUG] Request ID a12640b0-10aa-47ea-b47e-a0b26979b785: Querying ChromaDB.
[RAG-DEBUG] Request ID a12640b0-10aa-47ea-b47e-a0b26979b785: Filtering candidate chunks.
[RAG-DEBUG] Request ID a12640b0-10aa-47ea-b47e-a0b26979b785: Reranker prompt sent to LLM.
[RAG-DEBUG] Request ID a12640b0-10aa-47ea-b47e-a0b26979b785: Reranker user content preview: Query: Genetic diversity assessment methods in Philippine rice breeding

Document Chunks:
[1] Genetic Diversity Assessment of Selected Philippine Inbred Rice (Oryza sativa L.) Lines and Its Use in Hyb ...
[RAG-DEBUG] Request ID a12640b0-10aa-47ea-b47e-a0b26979b785: Reranker LLM raw response: [1, 3, 5, 9, 10, 13, 15, 16, 18, 28]
  [SEARCH] Found 2 documents, 2 chunks in 381.50s
  [GENERATE] Generating AI overview...
DEBUG: Generating with conversation context (0 previous turns)
DEBUG: Prompt length: 5114 characters
DEBUG: Finish reason: FinishReason.STOP
DEBUG: Response length: 1786 characters
  [GENERATE] Overview generated in 17.37s
  [EVALUATE] Running LLM-as-Judge evaluation...
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 41.553732983s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'model': 'gemini-2.5-flash', 'location': 'global'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '41s'}]}}
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 41.222626744s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'model': 'gemini-2.5-flash', 'location': 'global'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '41s'}]}}
[RAG-Eval] LLM call failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash\nPlease retry in 40.890968254s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '40s'}]}}
  [EVALUATE] Evaluation completed in 1.55s

  Results:
    Relevance:           FAIL
      ΓåÆ Unable to evaluate...
    Groundedness:        FAIL
      ΓåÆ Unable to evaluate...
    Retrieval Relevance: FAIL
      ΓåÆ Unable to evaluate...
    Overall:             FAIL

================================================================================
EVALUATION SUMMARY
================================================================================

Total Test Cases:        10
Successfully Evaluated:  10
Errors:                  0

--------------------------------------------------
Metric                    Pass  Rate
--------------------------------------------------
Relevance                 5/10   50.0%
Groundedness              2/10   20.0%
Retrieval Relevance       4/10   40.0%
Overall (Rel + Grd)       1/10   10.0%
--------------------------------------------------

================================================================================
Test Complete!
================================================================================

Results saved to: D:\Downloads\APC_2025_2026_T1_MI231_G07-LitPath-AI\backend\rag_evaluator_results.json
