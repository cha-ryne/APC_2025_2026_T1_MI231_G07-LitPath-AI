# Nixpacks config for LitPath backend (Railway)
# Root Directory should be empty (repo root) so RAG data is available

providers = ["python"]

[phases.setup]
nixPkgs = ["tesseract", "poppler_utils"]

[phases.install]
cmds = ["cd backend && pip install -r requirements.txt"]

[start]
cmd = "cd backend && python manage.py collectstatic --noinput && python -m gunicorn litpath_backend.wsgi:application --bind 0.0.0.0:${PORT:-8080}"
